CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DROP TABLE PISO IF EXISTS
DROP TABLE Transaccion IF EXISTS
DROP TABLE NAVEINDUSTRIAL IF EXISTS
DROP TABLE Oferta IF EXISTS
DROP TABLE Visita IF EXISTS
DROP TABLE INMUEBLE IF EXISTS
DROP TABLE ASESOR IF EXISTS
DROP TABLE CLIENTE IF EXISTS
CREATE TABLE CLIENTE (\u000a       NIF_CLIENTE CHAR(10) NOT NULL\u000a     , NOMBRE CHAR(10)\u000a     , APELLIDOS CHAR(10)\u000a     , PRIMARY KEY (NIF_CLIENTE)\u000a)
CREATE TABLE ASESOR (\u000a       CODIGO_EMPLEADO CHAR(10) NOT NULL\u000a     , NOMBRE CHAR(10)\u000a     , PRIMARY KEY (CODIGO_EMPLEADO)\u000a)
CREATE TABLE INMUEBLE (\u000a       COD_ID CHAR(10) NOT NULL\u000a     , CALLE CHAR(20)\u000a     , LOCALIDAD CHAR(20)\u000a     , FECHA_ALTA CHAR(20)\u000a     , SUPERFICIE_TOTAL CHAR(10)\u000a     , VENTA_ALQUILER CHAR(1)\u000a     , ASESOR CHAR(10) NOT NULL\u000a     , CLIENTE CHAR(10) NOT NULL\u000a     , PRIMARY KEY (COD_ID)\u000a     , CONSTRAINT FK_INMUEBLE_1 FOREIGN KEY (ASESOR)\u000a                  REFERENCES ASESOR (CODIGO_EMPLEADO)\u000a     , CONSTRAINT FK_INMUEBLE_2 FOREIGN KEY (CLIENTE)\u000a                  REFERENCES CLIENTE (NIF_CLIENTE)\u000a)
CREATE TABLE Visita (\u000a       id_visita CHAR(10) NOT NULL\u000a     , fecha CHAR(10)\u000a     , inmueble CHAR(10)\u000a     , cliente CHAR(10)\u000a     , asesor CHAR(10)\u000a     , PRIMARY KEY (id_visita)\u000a     , CONSTRAINT FK_Visita_1 FOREIGN KEY (inmueble)\u000a                  REFERENCES INMUEBLE (COD_ID)\u000a     , CONSTRAINT FK_Visita_2 FOREIGN KEY (cliente)\u000a                  REFERENCES CLIENTE (NIF_CLIENTE)\u000a     , CONSTRAINT FK_Visita_3 FOREIGN KEY (asesor)\u000a                  REFERENCES ASESOR (CODIGO_EMPLEADO)\u000a)
CREATE TABLE Oferta (\u000a       id_oferta CHAR(10) NOT NULL\u000a     , precio CHAR(10)\u000a     , fecha CHAR(10)\u000a     , visita CHAR(10)\u000a     , PRIMARY KEY (id_oferta)\u000a     , CONSTRAINT FK_Oferta_1 FOREIGN KEY (visita)\u000a                  REFERENCES Visita (id_visita)\u000a)
CREATE TABLE NAVEINDUSTRIAL (\u000a       COD_ID CHAR(10) NOT NULL\u000a     , NUM_PUERTAS CHAR(10)\u000a     , CALIFICACION CHAR(10)\u000a     , PRIMARY KEY (COD_ID)\u000a     , CONSTRAINT FK_NAVEINDUSTRIAL_1 FOREIGN KEY (COD_ID)\u000a                  REFERENCES INMUEBLE (COD_ID)\u000a)
CREATE TABLE Transaccion (\u000a       id_transaccion CHAR(10) NOT NULL\u000a     , precio_final CHAR(10)\u000a     , fecha CHAR(10)\u000a     , compra_o_alquiler CHAR(10)\u000a     , oferta CHAR(10)\u000a     , PRIMARY KEY (id_transaccion)\u000a     , CONSTRAINT FK_Transaccion_1 FOREIGN KEY (oferta)\u000a                  REFERENCES Oferta (id_oferta)\u000a)
CREATE TABLE PISO (\u000a       COD_ID CHAR(10) NOT NULL\u000a     , NUM_HABITACIONES CHAR(10)\u000a     , PRIMARY KEY (COD_ID)\u000a     , CONSTRAINT FK_PISO_1 FOREIGN KEY (COD_ID)\u000a                  REFERENCES INMUEBLE (COD_ID)\u000a)
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
